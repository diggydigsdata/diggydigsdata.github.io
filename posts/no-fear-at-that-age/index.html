<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.28">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Diggy">
<meta name="dcterms.date" content="2025-09-29">
<meta name="description" content="Testing if there’s merit to the claim that young players are fearless.">

<title>No Fear At That Age – Diggy Digs Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/img/favicons/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-013882879a21c3ca3416aac467d3c23f.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-013882879a21c3ca3416aac467d3c23f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-013882879a21c3ca3416aac467d3c23f.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-2f83f0ac04c3ba37addb9a3b48501ba5.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-b7dfd321930551f38f4d773270eb8bab.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-2f83f0ac04c3ba37addb9a3b48501ba5.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HNQKPVKC29"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HNQKPVKC29', { 'anonymize_ip': true});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta property="og:title" content="No Fear At That Age – Diggy Digs Data">
<meta property="og:description" content="Testing if there’s merit to the claim that young players are fearless.">
<meta property="og:image" content="https://diggydigsdata.github.io/posts/no-fear-at-that-age/featured.png">
<meta property="og:site_name" content="Diggy Digs Data">
<meta property="og:image:height" content="578">
<meta property="og:image:width" content="575">
<meta property="og:image:alt" content="Lamine Yamal at a press conference.">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    window.setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      window.setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    window.hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(darkModeDefault) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const darkModeDefault = false;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !window.hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
    };
    // Switch to dark mode if need be
    if (window.hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets\img\brand.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Diggy Digs Data</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/diggydigsdata"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:diggydigsdata@gmail.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/eoindignan1989/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">No Fear At That Age</h1>
                  <div>
        <div class="description">
          Testing if there’s merit to the claim that young players are fearless.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Football</div>
                <div class="quarto-category">Analytics</div>
                <div class="quarto-category">Python</div>
                <div class="quarto-category">Plotly</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Diggy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 29, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a>
  <ul class="collapse">
  <li><a href="#penalty-sampling" id="toc-penalty-sampling" class="nav-link" data-scroll-target="#penalty-sampling">Penalty sampling</a></li>
  <li><a href="#age-bands" id="toc-age-bands" class="nav-link" data-scroll-target="#age-bands">Age bands</a>
  <ul class="collapse">
  <li><a href="#caveat" id="toc-caveat" class="nav-link" data-scroll-target="#caveat">Caveat</a></li>
  </ul></li>
  <li><a href="#averages" id="toc-averages" class="nav-link" data-scroll-target="#averages">Averages</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#age-group-penalty-data-premier-league" id="toc-age-group-penalty-data-premier-league" class="nav-link" data-scroll-target="#age-group-penalty-data-premier-league">Age Group Penalty Data (Premier League)</a></li>
  <li><a href="#age-group-penalty-data-la-liga" id="toc-age-group-penalty-data-la-liga" class="nav-link" data-scroll-target="#age-group-penalty-data-la-liga">Age Group Penalty Data (La Liga)</a></li>
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression">Logistic Regression</a></li>
  <li><a href="#sources" id="toc-sources" class="nav-link" data-scroll-target="#sources">Sources</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/diggydigsdata/blob/main/posts/no-fear-at-that-age/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">






<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>‘There’s no fear at that age’ is a familiar refrain from pundits. The idea goes that young players are naive, innocent; they take risks, they express themselves, and in an ‘ignorance is bliss way’ they don’t show nerves the way older players do - or something.</p>
<p>I guess the fearlessness theory rests on the presumption that young players think they have all the time in the world so a few blunders early on in their career won’t be the end of it. Or, there is so little pressure applied on them relative to senior players that they play with freedom and can ‘express themselves’. I can understand that to a certain extent, although young players could easily go in the other, overawed direction. 18 year old me would definitely have fallen into the shitting myself camp. But then, it could be argued that I don’t have the mentality of an elite athlete.</p>
<p>Nevertheless, I’ve always been skeptical. They are young adults, not toddlers. And loads of promising young careers go up in smoke; the consequences for these players’ lives are devastating. Look at Jose Baxter, for example. I would imagine most young players have seen enough academy cohort colleagues fall by the wayside that they are acutely aware of their vulnerability. So I wanted to dig into this throwaway comment from pundits and find some way to interrogate it statistically.</p>
<p>The metric that is the easiest to isolate as a corollary for fear is the penalty. That’s because another fairly common idea is that every elite player <em>should</em> be able to tuck away a penalty. And that, 12 yards from goal, it is nerves rather than technique which undoes the pro player. While the best way to explore fear would be penalty shootout data - where every single kick is critical - I haven’t got that and will normal-time penalties as a proxy. Of course, these don’t have quite the same almighty importance but they still tell us something about the effects of nerves.</p>
<p>This is part of a series of analyses I’m doing where I fixate on penalties. It just drives me crazy how prevalent they are. It increasingly like every final is decided on penalties and every match a penalty is awarded. And it’s not just because of VAR. These increases have been ongoing for some time. See <a href="#fig-penalties-per-match" class="quarto-xref">Figure&nbsp;1</a>. Or the interactive version <a href="#fig-penalties-per-match-plotly" class="quarto-xref">Figure&nbsp;2</a>, though I haven’t added many leagues so there’s not much to play around with. At time of writing, Harry Kane is having the season of his life - so the story goes - with 14 goals in 7 games. Astonishing, yes, but 6 of those have been penalties… Without penalties he’s at 8 in 7, which is still very good but well short of his current Dixie Dean trajectory. Anyway, I digress. If you’re interested, my main project is this one:</p>
<ol type="1">
<li>What would happen if players who won the penalties were the only ones who got to take them? https://eoind.github.io/analytics/football/penalty_takers/</li>
<li>And now for… are young players really fearless? What does the penalty data say? (read on to find out!)</li>
</ol>
<div id="cell-fig-penalties-per-match" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:23:59.926437Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:23:59.684944Z&quot;}}" data-execution_count="4">
<div class="cell-output cell-output-display">
<div id="fig-penalties-per-match" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-penalties-per-match-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-penalties-per-match-output-1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-penalties-per-match-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Average penalties per match over time, by league (with global trend)
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:24:00.009191Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:23:59.967651Z&quot;}}" data-execution_count="5">
<div id="fig-penalties-per-match-plotly" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="5" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:24:00.009191Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:23:59.967651Z&quot;}}">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-penalties-per-match-plotly-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="fig-penalties-per-match-plotly-1" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-penalties-per-match-plotly-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.1.1.min"</script>
        
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-penalties-per-match-plotly-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a)
</figcaption>
</figure>
</div>
<div id="fig-penalties-per-match-plotly-2" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-penalties-per-match-plotly-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="f8561bda-d4c8-417e-be99-792c65ec61a7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("f8561bda-d4c8-417e-be99-792c65ec61a7")) {                    Plotly.newPlot(                        "f8561bda-d4c8-417e-be99-792c65ec61a7",                        [{"hovertemplate":"Season start: %{x}\u003cbr\u003eAvg\u002fMatch: %{y:.3f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"CL","mode":"markers","name":"CL","x":{"dtype":"i2","bdata":"zwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wc="},"y":{"dtype":"f8","bdata":"agsNWNLLzz\u002fhbux7RE7QP\u002fnTFhqwpMc\u002fOUG4G\u002fsewT+cxCCwcmjBP7gehetRuM4\u002fmpmZmZmZyT956SYxCKy8PzvfT42XbsI\u002f2\u002fl+arx0wz8730+Nl27CP7gehetRuM4\u002fO99PjZdu0j956SYxCKzMP1pkO99Pjdc\u002fy6FFtvP91D+cxCCwcmjRP9nO91Pjpds\u002f7FG4HoXr0T9qvHSTGATWP9n9Rtn9Rtk\u002faJHtfD813j8K16NwPQrXP0oMAiuHFtk\u002fK4cW2c730z8="},"type":"scatter"},{"hoverinfo":"skip","legendgroup":"CL","mode":"lines","name":"CL trend","showlegend":false,"x":{"dtype":"i2","bdata":"zwfnBw=="},"y":{"dtype":"f8","bdata":"gJph0l85wj8AdmIeRfjYPw=="},"type":"scatter"},{"hovertemplate":"Season start: %{x}\u003cbr\u003eAvg\u002fMatch: %{y:.3f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"EPL","mode":"markers","name":"EPL","x":{"dtype":"i2","bdata":"yAfJB8oHywfMB80HzgfPB9AH0QfSB9MH1AfVB9YH1wfYB9kH2gfbB9wH3QfeB98H4AfhB+IH4wfkB+UH5gfnBw=="},"y":{"dtype":"f8","bdata":"\u002fFtL5P7Wwj8oxFn5CXHGPyjEWfkJccY\u002f7ViBMNKOxT8AAAAAAADQPwuEkXasQMg\u002fp37PLXHqxz8bymsor6HMP3xuiVO\u002f58Y\u002fGGnHCoSRxj+q33NLnPrNP3\u002fPLXHq98w\u002f8LklTv2eyz\u002fSjhUII+3IP6QdKxBG2tE\u002ft8Sp33NLzD8bymsor6HMPwgj7ViBMNI\u002fjxUII+1Y0T+yAmGkHSvQP3\u002fPLXHq98w\u002f4tTvuSVOzT\u002fwuSVO\u002fZ7LP3Hq99wSp84\u002fpB0rEEba0T8or6G8hvLKP48VCCPtWNE\u002f1e+5JU79zj\u002fYUF5DeQ3VP48VCCPtWNE\u002fxwqEkXas0D9WIIy0YwXSPw=="},"type":"scatter"},{"hoverinfo":"skip","legendgroup":"EPL","mode":"lines","name":"EPL trend","showlegend":false,"x":{"dtype":"i2","bdata":"yAfnBw=="},"y":{"dtype":"f8","bdata":"AHGFWTa1xj+wM3HYtvbRPw=="},"type":"scatter"},{"hovertemplate":"Season start: %{x}\u003cbr\u003eAvg\u002fMatch: %{y:.3f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"La Liga","mode":"markers","name":"La Liga","x":{"dtype":"i2","bdata":"zwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wc="},"y":{"dtype":"f8","bdata":"ViCMtGMF0j+BMNKOFQjTPzMzMzMzM9M\u002f4HNLnPo91z+XOPV7bonTP3\u002fPLXHq98w\u002fFggj7ViB0D8zMzMzMzPTP1YgjLRjBdI\u002fO1YgjLRj1T\u002fFqd9zS5zKP+U1lNdQXtM\u002fFggj7ViB0D9sKK+hvIbSP+U1lNdQXtM\u002fbCivobyG0j9kBcJIO1bQP15DeQ3lNdQ\u002fgTDSjhUI0z9RXkN5DeXVP4SRdqxAGNk\u002f9XtuiVO\u002f1z+1YwXCSDvWP+U1lNdQXtM\u002fViCMtGMF0j8="},"type":"scatter"},{"hoverinfo":"skip","legendgroup":"La Liga","mode":"lines","name":"La Liga trend","showlegend":false,"x":{"dtype":"i2","bdata":"zwfnBw=="},"y":{"dtype":"f8","bdata":"GP5vB+3P0T+Qct9h7JnUPw=="},"type":"scatter"},{"hoverinfo":"skip","line":{"color":"black","dash":"dash","width":3},"mode":"lines","name":"Global regression","x":{"dtype":"i2","bdata":"yAfnBw=="},"y":{"dtype":"f8","bdata":"wOVC5dz1xT8ALr02SSnVPw=="},"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"margin":{"l":60,"r":30,"t":60,"b":60},"title":{"text":"Average penalties per match over time (interactive)"},"xaxis":{"title":{"text":"Season start year"},"dtick":2},"yaxis":{"title":{"text":"Average penalties per match"}},"legend":{"title":{"text":""}},"hovermode":"x unified"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f8561bda-d4c8-417e-be99-792c65ec61a7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-penalties-per-match-plotly-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b)
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-penalties-per-match-plotly-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
</div>
</section>
<section id="methodology" class="level1">
<h1>Methodology</h1>
<section id="penalty-sampling" class="level2">
<h2 class="anchored" data-anchor-id="penalty-sampling">Penalty sampling</h2>
<p>I have whipped up the following (courtesy of Stathead / FBref):</p>
<ul>
<li>Every normal time penalty taken in the Premier League - in other words, since the 1992/1993 season</li>
<li>Every normal time penalty taken in the Champions League since the 1999/2000 season</li>
<li>Every normal time penalty taken in La Liga since the 1999/2000 season</li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>League</strong></th>
<th><strong>Total Penalties</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Premier League</td>
<td>2892</td>
</tr>
<tr class="even">
<td>La Liga</td>
<td>2956</td>
</tr>
<tr class="odd">
<td>Champions League</td>
<td>925</td>
</tr>
<tr class="even">
<td><strong>Total</strong></td>
<td><strong>6773</strong></td>
</tr>
</tbody>
</table>
</section>
<section id="age-bands" class="level2">
<h2 class="anchored" data-anchor-id="age-bands">Age bands</h2>
<p>Finally, I have constructed some age groupings. See . This is in order to prevent small samples for different ages giving unreliable values. For example, there is a 20% difference in the success rate for La Liga 19 year-olds compared 20 year-olds. However, given these age groups have relatively few attempts it’s easy for the data to get a little wild.</p>
<p>I think the groups I have created are fairly logical. At the top and bottom end we’ve got open intervals - we can have players from 0 to 20; though the youngest penalty taker in this data is 17. And our 33+ group can go to infinity. Though the oldest penalty taker is .. This group are called No Fear At That Age? Because it’s the age when expectations are minimal, you are at your most naive, innocent, etc. And the elder statesmen are called Cherry on Top. I would theorise that they also have a bit less pressure, because they have already had a good career, and nobody is looking at their performance as a measure of their potential. They are a known quantity by this point.</p>
<p>They sandwich 3-year age bands. 21-23 could be the most pressurised age. That’s the point at which many wonderkid careers have gone awry - think Bojan Krkic. It’s the moment when you need to step up, mature, realise your potential and be consistent. Otherwise, a journeyman career in the lower leagues could await you. Then 24-26 could constitute the beginning of a player’s peak years. 27-29 would often be considered, depending a little on position, the absolute peak years of the average player. 30-32 has proven very fruitful for many players too. However, the perspective on these players definitely shifts. At this point, pressure amplifies because pundits and fans are often questioning whether you are ‘past it’, whether you should get a multi-year contract renewal or not. Just look at Mo Salah. In 2024/2025 he has having a career year but, at the age of 32, Liverpool have spent all season agonising about whether to give him a commensurate contract because of his age.</p>
<section id="caveat" class="level3">
<h3 class="anchored" data-anchor-id="caveat">Caveat</h3>
<p>One enormous <strong>caveat</strong>, however, is that the ages provided by Stathead simply use the player’s age at the commencement of the season, not their age at the time of taking a penalty. Consequently, the oldest penalty taker in the dataset is Teddy Sheringham. He appears as 39 in my dataset, but he had recently turned 40 when he missed a final-day penalty for West Ham against Tottenham in the 2005/06 season. Jorge Molina also appears as 39 in my dataset, but he was 40 when he missed against Espanyol on the final day of the 2021/22 season, effectively relegating Granada from La Liga.</p>
<p>Similarly, the dataset indicates a 17 year-old - Bojan Krkic. But he was 18 by the time he took his penalty for Barcelona against Manchester United in the Champions League. This is all rather annoying, but it would be more trouble than it’s worth to separate out every single penalty from each player’s season statistics and dial in the taker’s age on a specific date. It just means there is a +/- of 9 months (i.e.&nbsp;the length of a season) for each player’s age.</p>
</section>
</section>
<section id="averages" class="level2">
<h2 class="anchored" data-anchor-id="averages">Averages</h2>
<p>In this analysis I calculate <strong>conversion rates</strong> in two different ways, which reflect slightly different questions:</p>
<ul>
<li><p><strong>Weighted (overall) mean</strong>: This is the percentage of all penalties scored divided by the total penalties attempted within a group (e.g.&nbsp;a competition). Every penalty counts equally, so players who take more penalties have more influence. This measure tells us the <em>true success rate of the group as a whole</em>.</p></li>
<li><p><strong>Unweighted (player) mean</strong>: This is the simple average of individual players’ conversion rates. Each player counts equally, no matter how many penalties they have taken. This measure answers the question: <em>what does the “average player” in this group look like?</em></p></li>
</ul>
<p>In the charts shown here, the main benchmark (red dashed line) is the <strong>weighted overall mean</strong>, because it reflects the actual outcome of all penalties taken across the dataset.</p>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<p>First off, when it comes to conversion rates across the leagues, there are no differences whatsoever. Which is boring but convenient that we don’t need to worry too much about league effects.</p>
<div id="cf661cbd" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:24:00.202570Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:24:00.101427Z&quot;}}" data-execution_count="8">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">PKatt</th>
<th data-quarto-table-cell-role="th">PK</th>
<th data-quarto-table-cell-role="th">PKm</th>
<th data-quarto-table-cell-role="th">conversion_rate</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Comp</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">CL</td>
<td>925</td>
<td>714</td>
<td>211</td>
<td>77.189189</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">EPL</td>
<td>2892</td>
<td>2280</td>
<td>612</td>
<td>78.838174</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">La Liga</td>
<td>2956</td>
<td>2288</td>
<td>668</td>
<td>77.401894</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Or do we? Any differences when we break the leagues down by age group?</p>
<p>There’s <em>maybe</em> a trend towards improved penalty conversion as you accumulate experience. The ‘no fear’ players are <em>slightly</em> more clinical than the players aged 21-23 who may be coming under pressure to make the next step as more mature and consistent players.</p>
<p>But this is the smallest dataset - only 925 penalties.</p>
<div id="c144afc5" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:24:00.578939Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:24:00.223231Z&quot;}}" data-execution_count="9">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="1b07f951" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:24:00.758755Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:24:00.596706Z&quot;}}" data-execution_count="10">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="age-group-penalty-data-premier-league" class="level3">
<h3 class="anchored" data-anchor-id="age-group-penalty-data-premier-league">Age Group Penalty Data (Premier League)</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 20%">
<col style="width: 23%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th>Age Group</th>
<th>Penalty Attempts</th>
<th>Penalty Conversions</th>
<th>Conversion Rate (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;=20: No Fear At That Age?</td>
<td>80</td>
<td>60</td>
<td>75.00</td>
</tr>
<tr class="even">
<td>21-23: Not A Kid Anymore</td>
<td>503</td>
<td>398</td>
<td>79.13</td>
</tr>
<tr class="odd">
<td>24-26: Early Peak</td>
<td>834</td>
<td>654</td>
<td>78.42</td>
</tr>
<tr class="even">
<td>27-29: Peak Peak</td>
<td>793</td>
<td>624</td>
<td>78.69</td>
</tr>
<tr class="odd">
<td>30-32: Over The Hill?</td>
<td>495</td>
<td>387</td>
<td>78.18</td>
</tr>
<tr class="even">
<td>33+: Cherry On Top</td>
<td>187</td>
<td>157</td>
<td>83.96</td>
</tr>
<tr class="odd">
<td><strong>Grand Total</strong></td>
<td><strong>2892</strong></td>
<td><strong>2280</strong></td>
<td><strong>78.84</strong></td>
</tr>
</tbody>
</table>
<p>In the Premier League, things level out a bit more, although there still seems to be a mild advantage for experience.</p>
</section>
<section id="age-group-penalty-data-la-liga" class="level3">
<h3 class="anchored" data-anchor-id="age-group-penalty-data-la-liga">Age Group Penalty Data (La Liga)</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 20%">
<col style="width: 23%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th>Age Group</th>
<th>Penalty Attempts</th>
<th>Penalty Conversions</th>
<th>Conversion Rate (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;=20: No Fear At That Age?</td>
<td>81</td>
<td>63</td>
<td>77.78</td>
</tr>
<tr class="even">
<td>21-23: Not A Kid Anymore</td>
<td>405</td>
<td>307</td>
<td>75.80</td>
</tr>
<tr class="odd">
<td>24-26: Early Peak</td>
<td>829</td>
<td>653</td>
<td>78.77</td>
</tr>
<tr class="even">
<td>27-29: Peak Peak</td>
<td>833</td>
<td>644</td>
<td>77.31</td>
</tr>
<tr class="odd">
<td>30-32: Over The Hill?</td>
<td>511</td>
<td>400</td>
<td>78.28</td>
</tr>
<tr class="even">
<td>33+: Cherry On Top</td>
<td>297</td>
<td>221</td>
<td>74.41</td>
</tr>
<tr class="odd">
<td><strong>Grand Total</strong></td>
<td><strong>2956</strong></td>
<td><strong>2288</strong></td>
<td><strong>77.40</strong></td>
</tr>
</tbody>
</table>
<p>Things get flipped on their head a little bit in La Liga. For the first time, the Cherry on Top vets aren’t the most effective penalty takers. In fact, in La Liga they are the worst. Meanwhile, the 20s and under are right up there near the top. And if we drill down into that age group, we can really appreciate how precocious those La Liga teens are.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 20%">
<col style="width: 23%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th>Age Group</th>
<th>Penalty Attempts</th>
<th>Penalty Conversions</th>
<th>Conversion Rate (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;=20: No Fear At That Age?</td>
<td>81</td>
<td>63</td>
<td>77.78</td>
</tr>
<tr class="even">
<td>18</td>
<td>10</td>
<td>8</td>
<td>80.00</td>
</tr>
<tr class="odd">
<td>19</td>
<td>27</td>
<td>24</td>
<td>88.89</td>
</tr>
<tr class="even">
<td>20</td>
<td>44</td>
<td>31</td>
<td>70.45</td>
</tr>
</tbody>
</table>
<p>Let’s remove the 20 year olds. Now, La Liga teens have a success rate of 86%! Of course, there’s a caveat… That’s a population size of just 37. Ezequiel Garay - one of history’s great centre-back penalty takers and a stalwart of my FC Atlas team in Football Manager - accounts for 22% of the entire La Liga teenage penalty taking population. And Jose Antonio Reyes accounts for another 19%. All together, those two players - and their combined 92% success rate - represent 41% of the whole group.</p>
<p>So let’s bundle everything together and see what we get…</p>
<table class="caption-top table">
<colgroup>
<col style="width: 31%">
<col style="width: 20%">
<col style="width: 24%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Age Group</th>
<th>Penalty Attempts</th>
<th>Penalty Conversions</th>
<th>Conversion Rate (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;=20: No Fear At That Age</td>
<td>202</td>
<td>153</td>
<td>75.74</td>
</tr>
<tr class="even">
<td>21-23: Not A Kid Anymore</td>
<td>1047</td>
<td>804</td>
<td>76.79</td>
</tr>
<tr class="odd">
<td>24-26: Early Peak</td>
<td>1901</td>
<td>1491</td>
<td>78.43</td>
</tr>
<tr class="even">
<td>27-29: Peak Peak</td>
<td>1898</td>
<td>1485</td>
<td>78.24</td>
</tr>
<tr class="odd">
<td>30-32: Over The Hill?</td>
<td>1164</td>
<td>909</td>
<td>78.09</td>
</tr>
<tr class="even">
<td>33+: Cherry On Top</td>
<td>561</td>
<td>440</td>
<td>78.43</td>
</tr>
<tr class="odd">
<td><strong>Grand Total</strong></td>
<td><strong>6773</strong></td>
<td><strong>5282</strong></td>
<td><strong>77.99</strong></td>
</tr>
</tbody>
</table>
<p>There is a <em>very</em> mild indication that more experienced players do better than younger players. Considering the lowest success rates are 20 and under, and 21-23 are 2nd-lowest, there is some indication that young players are not totally fearless. I think this could be particularly noteworthy because, players who are designated penalty takers at such a young are rare and they are, in all likelihood, technically gifted. Therefore, is it a psychological vulnerability that causes their penalty-taking to dip a little compared to their older peers? And that maybe they aren’t so impervious to fear as pundits may casually claim?</p>
<p>Let’s see if this stands up to statistical scrutiny.</p>
</section>
<section id="logistic-regression" class="level3">
<h3 class="anchored" data-anchor-id="logistic-regression">Logistic Regression</h3>
<section id="method" class="level4">
<h4 class="anchored" data-anchor-id="method">Method</h4>
<p>Each penalty in the dataset is tied to a player, season, and league. Since some players take penalties in multiple seasons (or even in multiple leagues), the raw data contained repeated rows for the same player. To avoid overweighting those players, we collapsed the dataset to one row per <strong>player × age group × league</strong>, summing up penalties scored and attempted within each cell. This way, every player contributes fairly to the analysis.</p>
<p>I used a <strong>logistic regression model</strong> because the outcome of interest—scoring or missing a penalty—is binary. Logistic regression lets us model the probability of success while accounting for the number of attempts in each cell. We tested age group, league, and their interaction to see if any of them had an effect on conversion rates. Confidence intervals were estimated around the predicted probabilities to judge how much overlap there was between groups.</p>
</section>
<section id="results" class="level4">
<h4 class="anchored" data-anchor-id="results">Results</h4>
<p>To test whether penalty conversion varies by age or by league, I fit a logistic regression with both predictors and their interaction. The likelihood-ratio tests showed no evidence that either factor—or their combination—improves model fit (all p &gt; .4). In other words, neither age group nor league explains variation in conversion odds.</p>
<p>Predicted probabilities were remarkably consistent across groups, generally hovering between <strong>73% and 84%</strong>. For instance:</p>
<ul>
<li><strong>≤20 years</strong>: 73–78% across leagues<br>
</li>
<li><strong>21–23 years</strong>: 71–79%<br>
</li>
<li><strong>27–29 years (peak)</strong>: 77–79%<br>
</li>
<li><strong>33+ years</strong>: 74–84%</li>
</ul>
<p>Confidence intervals overlapped substantially, indicating no systematic age or league effect.</p>
<p><em>Note: Bars show predicted conversion probabilities with 95% confidence intervals. The dashed line indicates the overall average (~78%).</em></p>
<div class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;ExecuteTime&quot;,&quot;value&quot;:{&quot;end_time&quot;:&quot;2025-09-29T16:24:01.130759Z&quot;,&quot;start_time&quot;:&quot;2025-09-29T16:24:01.124329Z&quot;}}" data-tbl-cap="conversion by age" data-execution_count="12">
<div id="logistic-regression" class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>conversion by age</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age_group</th>
<th data-quarto-table-cell-role="th">Comp</th>
<th data-quarto-table-cell-role="th">pred_prob</th>
<th data-quarto-table-cell-role="th">ci_low</th>
<th data-quarto-table-cell-role="th">ci_high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">720</td>
<td>&lt;=20: No Fear At That Age?</td>
<td>CL</td>
<td>0.731707</td>
<td>0.577484</td>
<td>0.844769</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">721</td>
<td>&lt;=20: No Fear At That Age?</td>
<td>EPL</td>
<td>0.750000</td>
<td>0.643950</td>
<td>0.832670</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">452</td>
<td>&lt;=20: No Fear At That Age?</td>
<td>La Liga</td>
<td>0.777778</td>
<td>0.674573</td>
<td>0.855275</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">309</td>
<td>21-23: Not A Kid Anymore</td>
<td>CL</td>
<td>0.712230</td>
<td>0.631588</td>
<td>0.781332</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">94</td>
<td>21-23: Not A Kid Anymore</td>
<td>EPL</td>
<td>0.791252</td>
<td>0.753518</td>
<td>0.824555</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>21-23: Not A Kid Anymore</td>
<td>La Liga</td>
<td>0.758025</td>
<td>0.713916</td>
<td>0.797264</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">258</td>
<td>24-26: Early Peak</td>
<td>CL</td>
<td>0.773109</td>
<td>0.715574</td>
<td>0.821903</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>24-26: Early Peak</td>
<td>EPL</td>
<td>0.784173</td>
<td>0.754948</td>
<td>0.810785</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>24-26: Early Peak</td>
<td>La Liga</td>
<td>0.787696</td>
<td>0.758529</td>
<td>0.814203</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">333</td>
<td>27-29: Peak Peak</td>
<td>CL</td>
<td>0.797794</td>
<td>0.745865</td>
<td>0.841369</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>27-29: Peak Peak</td>
<td>EPL</td>
<td>0.786885</td>
<td>0.756998</td>
<td>0.814000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83</td>
<td>27-29: Peak Peak</td>
<td>La Liga</td>
<td>0.773109</td>
<td>0.743418</td>
<td>0.800288</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">498</td>
<td>30-32: Over The Hill?</td>
<td>CL</td>
<td>0.772152</td>
<td>0.700306</td>
<td>0.830932</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">517</td>
<td>30-32: Over The Hill?</td>
<td>EPL</td>
<td>0.781818</td>
<td>0.743263</td>
<td>0.816017</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">68</td>
<td>30-32: Over The Hill?</td>
<td>La Liga</td>
<td>0.782779</td>
<td>0.744914</td>
<td>0.816408</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">807</td>
<td>33+: Cherry On Top</td>
<td>CL</td>
<td>0.805195</td>
<td>0.701640</td>
<td>0.879006</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">520</td>
<td>33+: Cherry On Top</td>
<td>EPL</td>
<td>0.839572</td>
<td>0.779802</td>
<td>0.885500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">773</td>
<td>33+: Cherry On Top</td>
<td>La Liga</td>
<td>0.744108</td>
<td>0.691427</td>
<td>0.790519</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="sources" class="level3">
<h3 class="anchored" data-anchor-id="sources">Sources</h3>
<ul>
<li>Image: 中国新闻社, CC BY 3.0 <a href="https://creativecommons.org/licenses/by/3.0" class="uri">https://creativecommons.org/licenses/by/3.0</a>, via Wikimedia Commons<br>
</li>
<li>Data assembled from: <a href="https://stathead.com/fbref/">Stathead</a></li>
</ul>


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    window.setColorSchemeToggle(window.hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/diggydigsdata\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/diggydigsdata/blob/main/posts/no-fear-at-that-age/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../LICENSE">
<p>License</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>